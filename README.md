# Mandiri Technical Test 1: Data Analyst
# Priority Client Acquisition: A Data-Driven Analysis

## Project Overview

This project presents a comprehensive, data-driven strategy for identifying and acquiring high-value investor prospects from a transactional banking dataset. The analysis is specifically tailored for a securities firm, focusing on translating raw customer behavior into actionable insights for wealth management and client acquisition teams.

The workflow begins by leveraging `DBeaver` to directly import the raw CSV datasets (`users_data`, `cards_data`, `transactions_data`), allowing the tool to auto-generate the initial table schemas in a `PostgreSQL` database. Subsequently, a single, consolidated SQL script (`Mandiri.sql`) is executed to perform all data transformation and analysis. This script first refines the schema by adding primary/foreign keys and cleaning the data, then applies an advanced segmentation model using `NTILE` window functions to isolate a 'Priority Segment' of high-potential clients. Finally, the script analyzes the spending behaviors of this segment to confirm their investment capacity.

## Final Deliverables

* **SQL Script**: A single `Mandiri.sql` file containing all preprocessing and analysis queries.
* **README.md**: This file, providing setup and execution instructions.
* **Presentation.pdf**: A presentation file summarizing the analysis of user behavior.
* **Looker Studio Dashboard Link**: A link to the final interactive dashboard.

## Technology Stack

* **Database**: `PostgreSQL`
* **SQL Client**: `DBeaver`
* **Analysis**: `SQL`
* **Visualization**: `Looker Studio`

---

## Setup and Execution Instructions

This guide provides step-by-step instructions to set up the database, process the data, and run the analysis for this project.

### Part 1: Database and Data Import

**1. Prerequisites:**
* A running instance of `PostgreSQL`.
* A SQL client such as `DBeaver` (recommended for this workflow).

**2. Create a New Database:**
* In your SQL client, connect to your PostgreSQL instance and create a new database.
* Recommended name: `mandiri_analysis_db`.

**3. Import Data & Auto-Create Tables:**
This project leverages DBeaver's ability to automatically create table schemas during the CSV import process. For each of the three provided CSV files (`users_data.csv`, `cards_data.csv`, `transactions_data.csv`), perform the following steps:

1.  In the DBeaver database navigator, right-click on your database schema (e.g., `public`) and select **"Import Data"**.
2.  Choose **"CSV"** as the source and select the corresponding CSV file.
3.  Proceed through the import wizard. In the "Table Mappings" step, ensure you are mapping to a **"New Table"**.
4.  Execute the import. DBeaver will automatically create the table and import the data.
5.  Repeat this process for all three files.

---

### Part 2: Running the SQL Script

All data cleaning, table modifications, and final analysis are consolidated into a single script for simplicity.

**1. Execute the Main Script:**
* Open the SQL script `Mandiri.sql`.
* Ensure your SQL client is connected to the `mandiri_analysis_db` database.
* Execute the entire script from top to bottom.

**2. Script Contents:**
The `Mandiri.sql` script is designed to be run sequentially and contains two main sections:

* **Data Preprocessing & Schema Refinement:** The first part of the script enhances the tables that were auto-generated by DBeaver. This includes:
    * Adding **Primary Key** and **Foreign Key** constraints to establish proper data relationships.
    * Cleaning financial columns by removing currency symbols (`$`).
    * Altering column data types to their correct numeric or timestamp formats for accurate analysis.

* **Analytical Queries:** The second part of the script contains all the final `SELECT` queries that perform the client segmentation and behavioral analysis. The results from this section are the direct data sources for each chart and table in the Looker Studio dashboard and Presentation.
